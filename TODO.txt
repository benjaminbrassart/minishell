handle errors properly and print messages
norminette!

protect dup/dup2
